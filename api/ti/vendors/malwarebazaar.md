아래는 **MalwareBazaar API 사용법**을 단계별로 정리한 내용입니다.

---

## ✅ MalwareBazaar API 개요

| 항목      | 설명                                                 |
| ------- | -------------------------------------------------- |
| 공식 사이트  | [https://bazaar.abuse.ch](https://bazaar.abuse.ch) |
| API Key | ❌ 필요 없음 (**무제한 공개 API**)                           |
| 지원 요청   | Hash 기반 조회, 태그 검색, 샘플 다운로드 등                       |
| API 포맷  | `POST` 방식, URL: `https://mb-api.abuse.ch/api/v1/`  |

---

## 🔍 1. 해시 기반 정보 조회 (get\_info)

### ▶️ 요청 형식 (SHA256, SHA1, MD5 모두 지원)

```bash
curl -s -X POST https://mb-api.abuse.ch/api/v1/ \
  -d "query=get_info" \
  -d "hash=e99a18c428cb38d5f260853678922e03" \
  | jq
```

### ✅ 응답 예시:

```json
{
  "query_status": "ok",
  "data": [{
    "sha256_hash": "...",
    "malware_family": "AgentTesla",
    "tags": ["stealer", "keylogger"],
    "delivery_method": "email",
    "signature": "AgentTesla.A",
    "vendor_intel": {
      "CERT.PL": ["Stealer"],
      "GData": ["RAT"]
    }
  }]
}
```

---

## 🧩 2. 최근 업로드 샘플 조회 (get\_recent)

```bash
curl -X POST https://mb-api.abuse.ch/api/v1/ \
  -d "query=get_recent"
```

→ 최근 10개 악성 샘플 해시 및 요약 정보 응답

---

## 📥 3. 샘플 다운로드 (get\_file, password: `infected`)

```bash
curl -o sample.zip -X POST https://mb-api.abuse.ch/api/v1/ \
  -d "query=get_file" \
  -d "sha256_hash=<hash>" \
  -d "dltype=archive"
```

> 🔐 다운로드 파일은 ZIP 압축되어 있고 비밀번호는 항상 `infected`입니다.

---

## 📌 주요 Query 목록 요약

| query 값       | 설명                      |
| ------------- | ----------------------- |
| `get_info`    | 특정 해시로 정보 조회            |
| `get_recent`  | 최근 업로드 샘플 목록            |
| `get_taginfo` | 태그 기반 샘플 통계             |
| `get_file`    | 악성 샘플 다운로드 (zip 또는 bin) |

---

## ✅ 요약

| 항목      | 설명                                                                                  |
| ------- | ----------------------------------------------------------------------------------- |
| API Key | ❌ 필요 없음                                                                             |
| 호출 방식   | `POST`, `Content-Type: application/x-www-form-urlencoded`                           |
| 주요 사용   | Hash → 악성코드 패밀리, 캠페인, 벤더 분석 정보 조회                                                   |
| 사용 예    | `curl -X POST https://mb-api.abuse.ch/api/v1/ -d "query=get_info" -d "hash=<hash>"` |

---
